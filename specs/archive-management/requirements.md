# 归档管理功能需求文档

## 功能介绍

将用户中心页面的"数据统计"功能替换为"归档管理"功能。归档管理功能允许用户查看和管理已归档的项目册，提供简化的项目册浏览体验，同时限制对已归档项目册的编辑操作。

## 需求列表

### 需求 1: 用户中心菜单项替换

**用户故事:** 作为用户，我想要在用户中心看到"归档管理"选项而不是"数据统计"，以便访问我的已归档项目册。

#### 验收标准

1. WHEN 用户进入用户中心页面 THEN 系统 SHALL 在设置卡片中显示"归档管理"菜单项
2. WHEN 用户点击"归档管理"菜单项 THEN 系统 SHALL 导航到归档管理页面
3. GIVEN 原有的"数据统计"菜单项 WHEN 替换完成 THEN 系统 SHALL 不再显示该菜单项

### 需求 2: 归档统计数据展示

**用户故事:** 作为用户，我想要在归档管理页面顶部看到已归档项目册的统计概览，以便了解我的归档项目总体情况。

#### 验收标准

1. WHEN 用户进入归档管理页面 THEN 系统 SHALL 在页面上方显示归档统计卡片
2. GIVEN 归档统计卡片 WHEN 显示时 THEN 系统 SHALL 显示已归档项目册总数
3. GIVEN 归档统计卡片 WHEN 显示时 THEN 系统 SHALL 显示所有归档项目册的总任务数
4. GIVEN 归档统计卡片 WHEN 显示时 THEN 系统 SHALL 显示所有归档项目册的已完成任务数
5. GIVEN 归档统计卡片 WHEN 显示时 THEN 系统 SHALL 计算并显示整体完成率百分比
6. GIVEN 归档统计卡片 WHEN 显示时 THEN 系统 SHALL 显示总成员数（去重计算）
7. WHEN 没有归档数据时 THEN 系统 SHALL 在统计卡片中显示零值和友好提示

### 需求 3: 归档管理页面展示

**用户故事:** 作为用户，我想要看到一个简化的滑动列表显示我所有已归档的项目册，以便快速浏览我的归档内容。

#### 验收标准

1. WHEN 用户进入归档管理页面 THEN 系统 SHALL 在统计卡片下方显示当前用户所有已归档的项目册列表
2. GIVEN 已归档项目册列表 WHEN 显示时 THEN 系统 SHALL 采用比常规列表更紧凑的卡片设计
3. WHEN 列表显示项目册时 THEN 系统 SHALL 显示项目册标题、描述、成员数量和基本统计信息
4. WHEN 没有已归档项目册时 THEN 系统 SHALL 显示友好的空状态提示
5. WHEN 加载数据时 THEN 系统 SHALL 显示加载状态指示器

### 需求 4: 归档项目册详情访问

**用户故事:** 作为用户，我想要点击已归档的项目册进入详情页查看内容，以便了解归档项目的具体信息。

#### 验收标准

1. WHEN 用户点击已归档项目册卡片 THEN 系统 SHALL 导航到该项目册的详情页面
2. GIVEN 项目册详情页面 WHEN 项目册为已归档状态 THEN 系统 SHALL 保持现有的详情页面布局和功能
3. WHEN 用户从归档管理页面进入详情页 THEN 系统 SHALL 正确设置页面导航参数

### 需求 5: 已归档项目册编辑限制

**用户故事:** 作为用户，我需要已归档的项目册保持只读状态，以防止意外修改已完成的项目内容。

#### 验收标准

1. GIVEN 已归档项目册 WHEN 用户尝试新增任务 THEN 系统 SHALL 阻止该操作
2. GIVEN 已归档项目册中的任务 WHEN 用户尝试删除或修改任务 THEN 系统 SHALL 阻止该操作
3. GIVEN 已归档项目册 WHEN 用户尝试添加评论 THEN 系统 SHALL 阻止该操作并显示提示信息
4. WHEN 已归档项目册处于编辑限制状态 THEN 系统 SHALL 在界面上明确标识该项目册为归档状态

### 需求 6: 已归档项目册菜单限制

**用户故事:** 作为用户，我希望已归档项目册的操作菜单只显示必要的功能，以避免误操作。

#### 验收标准

1. GIVEN 已归档项目册 WHEN 用户打开操作菜单 THEN 系统 SHALL 只显示"分享"和"删除"选项
2. GIVEN 已归档项目册 WHEN 用户使用分享功能 THEN 系统 SHALL 按照现有分享逻辑执行
3. GIVEN 已归档项目册 WHEN 用户执行删除操作 THEN 系统 SHALL 显示确认对话框并执行删除
4. GIVEN 已归档项目册操作菜单 WHEN 显示时 THEN 系统 SHALL 不显示编辑、置顶、归档等其他操作选项

### 需求 7: 已归档任务菜单限制

**用户故事:** 作为用户，我希望已归档项目册中的任务不显示任何操作菜单，以确保归档内容的完整性。

#### 验收标准

1. GIVEN 已归档项目册中的任务 WHEN 用户尝试打开任务操作菜单 THEN 系统 SHALL 不显示任何菜单选项
2. GIVEN 已归档项目册中的任务 WHEN 显示时 THEN 系统 SHALL 隐藏菜单触发按钮
3. GIVEN 已归档项目册中的子任务 WHEN 显示时 THEN 系统 SHALL 同样隐藏所有操作菜单

### 需求 8: 数据加载和性能

**用户故事:** 作为用户，我希望归档管理页面快速加载并提供流畅的浏览体验。

#### 验收标准

1. WHEN 用户进入归档管理页面 THEN 系统 SHALL 在3秒内完成数据加载
2. WHEN 归档项目册数量较多时 THEN 系统 SHALL 实现高效的列表渲染
3. WHEN 用户下拉刷新时 THEN 系统 SHALL 重新加载最新的归档数据
4. WHEN 数据加载失败时 THEN 系统 SHALL 显示错误提示并提供重试选项